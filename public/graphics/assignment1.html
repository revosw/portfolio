<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/css/style.css">
  <link href="//fonts.googleapis.com/css?family=Mallanna&subset=latin" rel="stylesheet" type="text/css">
  <title>Assignment 1 - Computer Graphics</title>

  <!-- Components -->
  <script defer src="/js/components/siteNav.js"></script>

  <!-- MathJax -->
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script async id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <script defer>
    MathJax = {
      tex: {
        inlineMath: [['$', '$']],
      },
      svg: {
        fontCache: 'global'
      }
    }
  </script>

  <!-- Plotly.js -->
  <script type="module">
    import * as d3 from "https://cdn.skypack.dev/d3@7";
    import "https://cdn.plot.ly/plotly-2.5.1.min.js"
    const points = [[5, 0, 10], [0, 0, 0.1], [0, 5, 5]]

    const triangle = {
      x: points[0],
      y: points[1],
      z: points[2],
      text: ["P1", "P2", "P3"],
      type: "mesh3d",
      showscale: false
    }

    var data = [triangle];

    // https://plotly.com/javascript/reference/layout/
    var layout = {
      title: {
        text: "Surface Normal"
      },
      scene: {
        xaxis: {
          range: [0, 10]
        },
        yaxis: {
          range: [-1, 1]
        },
        zaxis: {
          range: [0, 10]
        }
      },
      paper_bgcolor: "#ddf",
      plot_bgcolor: "#049",
      colorway: ["#524", "#00a", "#4d2"],
      width: 500,
      height: 500,
      type: "mesh3d"
    };
    Plotly.newPlot("surface", data, layout);
  </script>

</head>

<body class="grid grid-cols-[max-content,1fr] pt-20 gap-8 max-w-4xl w-full m-auto">
  <!-- <div class="w-full"></div> -->
  <site-nav></site-nav>

  <main class="grid gap-y-8 mb-72">
    <!-- Question A -->
    <span class="question-tab">1A</span>
    <h1 class="question-text">
      Calculate the magnitude of the position vector $p$ for point $P(4,5,6)$
    </h1>
    <p class="answer-text">
      If $p$ represents a vector, then $||p||$ represents its magnitude. The magnitude of a vector in 3D is given by the
      formula $\sqrt{X^2 + Y^2 + Z^2}$. This makes the magnitude of the
      position vector $\sqrt{4^2 + 5^2 + 6^2} = 8.8$
    </p>

    <!-- Question B -->
    <span class="question-tab">1B</span>
    <h1 class="question-text">
      Convert vector $r = (1, 2, 3)$ to a unit vector
    </h1>
    <p class="answer-text">
      A unit vector is a vector that is scaled such that the magnitude is 1.
      In order to convert $r$ to a unit vector, we need to divide all its
      components by its magnitude. The magnitude is in this case
      $||r|| = \sqrt{1^2 + 2^2 + 3^2} = \sqrt{14} = 3.74$. The resulting vector then
      becomes $r = (\frac{1}{3.74}, \frac{2}{3.74}, \frac{3}{3.74})$ which leads us to
      $r = (0.267, 0.535, 0.802)$
    </p>

    <!-- Question C -->
    <span class="question-tab">1C</span>
    <h1 class="question-text">
      Compute the magnitude of $r + s$ where $r = (2, 3, 4)$ and $s = (5, 6, 7)$
    </h1>
    <p class="answer-text">
      There are two steps to solve this problem. First we need to compute $r + s$.
      To add these vectors, all you have to do is to add $r_x$ with $s_x$, $r_y$ with $s_y$ and $r_z$ with $s_z$.
      Then we get the vector $(r_x+s_x, r_y+s_y, r_z+s_z)$ = $(2+5,3+6,4+7)$.
    </p>
    <p class="answer-text">
      Now we have the vector $r+s = (7,9,11)$. The magnitude can be found with the formula
      described in part A, which gives us $\sqrt{7^2 + 9^2 + 11^2} = 15.8$
    </p>

    <!-- Question D -->
    <span class="question-tab">1D</span>
    <h1 class="question-text">
      Find the angle between $r$ and $s$, where $r = (2, 0, 4)$ and $s = (5, 6, 10)$
    </h1>
    <p class="answer-text">
      We can solve this using either the cross product or the dot product. By far the easiest way is to
      use the dot product, so we'll have a look at that first.
    </p>
    <p class="answer-text">
      The dot product formula is $A \cdot B = ||A||*||B||*\cos(\theta)$. Since we need the angle,
      we flip the formula around to get $\cos(\theta) = \frac{A \cdot B}{||A|| * ||B||}$
    </p>
    <p class="answer-text">
      We substitute $r$ for $A$ and $s$ for $B$. To compute $r \cdot s$, we multiply the vectors component wise.
      The result of a dot product tells us how much vector $A$ moves us in the direction of vector $B$.
    </p>
    <p class="answer-text">
      $
      \begin{align*}
      r \cdot s =&
      \begin{bmatrix}
      2*5 \\
      0*6 \\
      4*10 \\
      \end{bmatrix}

      \\\\

      =& 2*5 + 0*6 + 4*10

      \\\\

      =& {\color{red} 50}

      \\\\

      ||r|| =& \sqrt{2^2 + 0^2 + 4^2}

      \\\\

      =& {\color{red} 2\sqrt{5}}

      \\\\

      ||s|| =& \sqrt{5^2 + 6^2 + 10^2}

      \\\\

      =& {\color{red} \sqrt{161}}

      \\\\

      \frac{r \cdot s}{||r|| * ||s||} =& \frac{50}{2\sqrt{5} * \sqrt{161}}

      \\\\

      =& {\color{blue} 0.881}

      \\\\

      \arccos\left(\frac{r \cdot s}{||r|| * ||s||}\right) =& \arccos(0.881)

      \\\\

      =& {\color{indigo} 28.22°}

      \end{align*}
      $
    </p>
    <p class="answer-text">
      The cross product formula is $||A \times B|| = ||A||*||B||*\sin(\theta)$. Since we need the angle,
      we flip the formula around to get $\sin(\theta) = \frac{||A \times B||}{||A|| * ||B||}$
    </p>
    <p class="answer-text">
      We substitute $r$ for $A$ and $s$ for $B$. To compute $r \times s$, we set up a kind of determinant matrix. The
      result of a cross product is a new vector that tells us the direction and length of the vector perpendicular to
      $r$ and $s$.
    </p>
    <p class="answer-text">
      $
      \begin{align*}
      r \times s =&
      \begin{vmatrix}
      X & Y & Z \\
      2 & 0 & 4 \\
      5 & 6 & 10 \\
      \end{vmatrix}

      \\\\

      =& X
      \begin{vmatrix}
      0 & 4 \\
      6 & 10 \\
      \end{vmatrix}
      - Y
      \begin{vmatrix}
      2 & 4 \\
      5 & 10 \\
      \end{vmatrix}
      + Z
      \begin{vmatrix}
      2 & 0 \\
      5 & 6 \\
      \end{vmatrix}

      \\\\

      =& + X(0*10 - 4*6) \\
      & - Y(2*10 - 4*5) \\
      & + Z(2*6 - 0*5)

      \\\\

      =& -24X -0Y +12Z

      \\\\

      ||r \times s|| =& \sqrt{(-24)^2 + (-0)^2 + 12^2}

      \\\\

      =& {\color{red} 12\sqrt{5}}

      \\\\

      ||r|| =& \sqrt{2^2 + 0^2 + 4^2}

      \\\\

      =& {\color{red} 2\sqrt{5}}

      \\\\

      ||s|| =& \sqrt{5^2 + 6^2 + 10^2}

      \\\\

      =& {\color{red} \sqrt{161}}

      \\\\

      \frac{||r \times s||}{||r|| * ||s||} =& \frac{12\sqrt{5}}{2\sqrt{5} * \sqrt{161}}

      \\\\

      =& {\color{blue} 0.473}

      \\\\

      \arcsin\left(\frac{||r \times s||}{||r|| * ||s||}\right) =& \arcsin(0.473)

      \\\\

      =& {\color{indigo} 28.22°}

      \end{align*}
      $
    </p>

    <!-- Question E -->
    <span class="question-tab">1E</span>
    <h1 class="question-text">
      Calculate the vector normal to the plane defined by the points $P1(5, 0, 0)$, $P2(0, 0, 5)$ and $P3(10, 0, 5)$
    </h1>
    <p class="answer-text">
      The trianlge formed by points P1, P2 and P3 looks like what's shown in the 3D visualization below.
      Hover over a corner to see which point is which.
    </p>
    <div class="col-start-2" id="surface"></div>
    <span class="col-start-2 text-gray-800 text-sm m-auto">
      The reason P3 is (10, 0.1, 5) instead of (10, 0, 5) is because of a <a class="underline" href="https://community.plotly.com/t/mesh3d-triangle-disappears-if-i-set-all-y-coords-to-0-0-0-but-reappears-when-0-0-0-1/57024">bug with plotly</a>.
    </span>
    <p class="answer-text">
      In order to calculate the vector normal to this plane, we must first determine the direction
      vectors $\overrightarrow{P1P2}$ and $\overrightarrow{P1P3}$ (any two vectors would work).
      Then we can use the cross product to get the third vector, and normalize it (with cross product, order matters).
    </p>
    <p class="answer-text">
      $
      \begin{align*}
      \overrightarrow{P1P2} =& P2 - P1
      
      \\\\

      =& (0,0,5) - (5,0,0)
      
      \\\\
      
      =& (-5,0,5)

      \\\\

      \overrightarrow{P1P3} =& P3 - P1
      
      \\\\

      =& (10,0,5) - (5,0,0)
      
      \\\\
      
      =& (5,0,5)

      \\\\
      
      \overrightarrow{P1P2} \times \overrightarrow{P1P3}=&
      \begin{vmatrix}
       X & Y & Z \\
      -5 & 0 & 5 \\
       5 & 0 & 5 \\
      \end{vmatrix}

      \\\\

      =& X
      \begin{vmatrix}
      0 & 5 \\
      0 & 5 \\
      \end{vmatrix}
      - Y
      \begin{vmatrix}
      -5 & 5 \\
      5 & 5 \\
      \end{vmatrix}
      + Z
      \begin{vmatrix}
      -5 & 0 \\
      5 & 0 \\
      \end{vmatrix}

      \\\\

      =& + X(0*5 - 5*0) \\
      & - Y((-5)*5 - 5*5) \\
      & + Z((-5)*0 - 0*5)

      \\\\

      =& 0X +50Y +0Z

      \\\\

      \frac{(0,50,0)}{||(0,50,0)||} =& (0,1,0)
      \end{align*}
      $
    </p>

    <!-- Question F -->
    <span class="question-tab">1F</span>
    <h1 class="question-text">
      Compute the area of the triangle defined by points $P1(5, 0, 0)$, $P2(0, 0, 5)$ and $P3(10, 0, 5)$
    </h1>
    <p class="answer-text">
      Coincidentally, the cross product of two vectors has another property. Its magnitude will give us the
      area of the parallelogram like shown below.
    </p>
    <img class="col-start-2" src="https://upload.wikimedia.org/wikipedia/commons/4/4e/Cross_product_parallelogram.svg" />
    <p class="answer-text">
      So in order to get the area of the triangle formed by the three points, we divide
      the magnitude by 2. $\frac{||(0,50,0)||}{2} = 25$
    </p>

    <!-- Question G -->
    <span class="question-tab">1G</span>
    <h1 class="question-text">
      Find the implicit equation of the line that crosses the points $P1(1, 2, 0)$ and $P2(3, 1, 5)$
    </h1>
    <p class="answer-text">
      An explicit function might look like this: $y = 2x+1$. Since $y$ is alone on the left side
      of the equals sign, it is an explicit function. We can convert it to an implicit function:
      $y - 2x - 1 = 0$. Here, $y$ is not alone, but a part of the other terms.
    </p>
    <p class="answer-text">
      This lets us express the equation of the line in a more general way. $Ax + By + C = 0$
      describes not just the line, but an infinite amount of lines because of the ability
      to multiply this general function with any number to generate a new implicit line that
      satisfies the function. But we don't want that, we want to restrict it to just our line.
    </p>
    <p class="answer-text">
      I'll skip explanations and go straight to $\frac{f(a,b)}{\sqrt{A^2+B^2}}$, where
      $A = y_0-y_1$, $B = x_1-x_0$ and $(a,b)$ is a point we want to get the distance of.
    </p>
    <iframe title="Implicit equation" class="col-start-2 w-full h-96" src="https://www.math3d.org/VFkn21Gs"></iframe>

    <!-- Question H -->
    <span class="question-tab">1H</span>
    <h1 class="question-text">
      Compute the angle between the lines defined by $2x + 2y − 4 = 0$ and $2x + 4y − 4 = 0$
    </h1>
    <p class="answer-text">
      In this case, we can convert both functions to explicit functions.
      $2x + 2y − 4 = 0$ turns into $y = -x + 2$ and $2x + 4y − 4 = 0$
      turns into $y = -\frac{1}{2}x -1$. The constant factor in these equations
      don't matter, because we just want the slope of the curve. So we
      throw the constant factors out to get $y = -x$ and $y = -\frac{1}{2}x$
      
    </p>
    <p class="answer-text">
      We can make up vectors of these lines, (1, -0.5) and (1, -1) and do the same
      calculation as we did in 1D to find the angle between them. The angle
      between the lines is $18.43°$
    </p>
    <iframe class="answer-text" src="https://www.desmos.com/calculator/tth3yggmjm?embed" width="500" height="500" style="border: 1px solid #ccc" frameborder=0></iframe>

    <!-- Quetsion I -->
    <span class="question-tab">1I</span>
    <h1 class="question-text">
      Compute the distance of point $P(1, 1)$ to the line $f(x,y) = x + y − 1 = 0$
    </h1>
    <p class="answer-text">
      Let's start with a partial differentiation of $x$ and $y$.
    </p>
    <p class="answer-text">

      $
      \begin{align*}
      \frac{\partial f}{\partial {\color{red} x}} =& 1 + y - 1

      \\\\

      \nabla f =&
      \begin{bmatrix}
      \frac{\partial f}{\partial {\color{red} x}} \\
      \frac{\partial f}{\partial y} \\
      \end{bmatrix}
      \end{align*}
      $
    </p>
    <span class="question-tab">2A</span>
    <h1 class="question-text">
      Given the triangle defined by points P1(0, 2, 0), P2(0, 0, 4), and P3(3, 1, 2), compute the barycentric
      coordinates for points $P_A(0,2,0)$, $P_B(0, 0, 4)$, $P_C(3, 1, 2)$, $P_D(1, 1, 2)$
    </h1>
    <p class="answer-text">
      Insert answer here
    </p>
    <span class="question-tab">2B</span>
    <h1 class="question-text">
      Describe at least two different usages of barycentric coordinates in Computer Graphics applications
    </h1>
    <p class="answer-text">
      Insert answer here
    </p>
    <span class="question-tab">3</span>
    <h1 class="question-text">
      Consider a scene with a sphere and a triangle. The sphere’s center is at $(0, 0, 0)$ and its radius is 1. The
      triangle has vertices $(2, 0, 0)$, $(0, 2, 0)$, and $(0, 0, 2)$. The camera (ray origin) is at $(\sqrt{3},
      \sqrt{3}, \sqrt{3})$ and the ray direction is $(−\sqrt{\frac{1}{3}}, −\sqrt{\frac{1}{3}}, −\sqrt{\frac{1}{3}})$
    </h1>
    <span class="question-tab">3A</span>
    <h1 class="question-text">
      Does the ray intersect the sphere? If yes, what data (position, normal, and t) would be put in the
      intersection record? If not, why?
    </h1>
    <p class="answer-text">
      We start from the ray origin. $(s - ro) \cdot rd$ gives us the distance we
      need to travel along $rd$ to get a right triangle, in our case $3$. We can now determine if
      the opposite side of our right triangle is longer than 1 (radius of sphere).
      If it's longer, it means the ray points outside the sphere, while shorter
      means it points through the sphere.
    </p>
    <img class="answer-text" src="/img/graphics/3A.png" alt="">
    <p class="answer-text">
      If we subtract $(s - ro) - 3 * rd$, we get 0. So as it turns out, the ray is pointing directly at the origin. This means
      the intersection normal is perpendicular to the surface. See the picture below for a trivial
      explanation why 0 must mean the vectors are parallell.
    </p>
    <p class="answer-text">
      To summarize: $position = (\frac{1}{3},\frac{1}{3},\frac{1}{3}) | normal = 90° | t = 2$
    </p>
    <img class="answer-text" src="/img/graphics/3A-2.png" alt="">
    <span class="question-tab">3B</span>
    <h1 class="question-text">
      Does the ray intersect the triangle? If yes, what data would be put in the intersection record? If not,
      why?
    </h1>
    <p class="answer-text">
      Insert answer here
    </p>
  </main>


</body>

</html>